Version 4
SHEET 1 1892 680
WIRE 960 -16 960 -96
WIRE -80 128 -112 128
WIRE 48 128 0 128
WIRE 96 128 48 128
WIRE 208 128 176 128
WIRE 960 176 960 64
WIRE 480 240 432 240
WIRE 48 256 48 128
WIRE 96 256 48 256
WIRE 640 256 544 256
WIRE 912 256 720 256
WIRE 208 272 208 128
WIRE 208 272 160 272
WIRE 240 272 208 272
WIRE 352 272 320 272
WIRE 480 272 352 272
WIRE 96 288 -48 288
WIRE 432 400 432 240
WIRE 672 400 432 400
WIRE 960 400 960 272
WIRE 960 400 736 400
WIRE 432 512 432 400
WIRE 656 512 432 512
WIRE 960 512 960 400
WIRE 960 512 736 512
WIRE 960 544 960 512
WIRE 1056 544 960 544
WIRE 1152 544 1056 544
WIRE 1248 544 1152 544
WIRE 1344 544 1248 544
WIRE 1440 544 1344 544
WIRE 1536 544 1440 544
WIRE 1632 544 1536 544
WIRE 1728 544 1632 544
WIRE 1824 544 1728 544
FLAG -336 272 0
FLAG -336 112 0
FLAG -336 192 18V
FLAG -336 32 3V3
FLAG -336 432 0
FLAG -336 352 -5V
FLAG 128 304 -5V
FLAG 128 240 18V
FLAG -464 176 0
FLAG -464 96 DAC
FLAG -48 288 DAC
FLAG -112 128 0
FLAG 352 336 0
FLAG 512 288 -5V
FLAG 512 224 18V
FLAG -480 368 0
FLAG -480 288 24V
FLAG 960 -96 24V
FLAG 960 624 0
FLAG 1056 624 0
FLAG 1152 624 0
FLAG 1248 624 0
FLAG 1344 624 0
FLAG 1440 624 0
FLAG 1536 624 0
FLAG 1632 624 0
FLAG 1728 624 0
FLAG 1824 624 0
SYMBOL res 192 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1.15k
SYMBOL res 16 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 324
SYMBOL OpAmps\\UniversalOpAmp 128 272 R0
SYMATTR InstName U1
SYMBOL voltage -336 16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 3.3
SYMBOL voltage -336 176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 18
SYMBOL voltage -336 336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value -5
SYMBOL voltage -464 80 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 24 44 Left 2
SYMATTR InstName V4
SYMATTR Value 3.3
SYMBOL res 336 256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 100
SYMBOL cap 336 272 R0
WINDOW 3 42 43 Left 2
SYMATTR Value 10n
SYMATTR InstName C1
SYMBOL OpAmps\\UniversalOpAmp 512 256 R0
SYMATTR InstName U2
SYMBOL res 752 496 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 100
SYMBOL cap 736 384 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 100n
SYMBOL res 736 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 1
SYMBOL nmos 912 176 R0
SYMATTR InstName M1
SYMATTR Value AP9465GEM
SYMBOL res 944 -32 R0
SYMATTR InstName R7
SYMATTR Value 20m
SYMBOL voltage -480 272 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 24 44 Left 2
SYMATTR InstName V5
SYMATTR Value 24
SYMBOL res 944 528 R0
SYMATTR InstName R6
SYMATTR Value 22
SYMATTR SpiceLine pwr=10
SYMBOL res 1040 528 R0
SYMATTR InstName R8
SYMATTR Value 22
SYMATTR SpiceLine pwr=10
SYMBOL res 1136 528 R0
SYMATTR InstName R9
SYMATTR Value 22
SYMATTR SpiceLine pwr=10
SYMBOL res 1232 528 R0
SYMATTR InstName R10
SYMATTR Value 22
SYMATTR SpiceLine pwr=10
SYMBOL res 1328 528 R0
SYMATTR InstName R11
SYMATTR Value 22
SYMATTR SpiceLine pwr=10
SYMBOL res 1424 528 R0
SYMATTR InstName R12
SYMATTR Value 22
SYMATTR SpiceLine pwr=10
SYMBOL res 1520 528 R0
SYMATTR InstName R13
SYMATTR Value 22
SYMATTR SpiceLine pwr=10
SYMBOL res 1616 528 R0
SYMATTR InstName R14
SYMATTR Value 22
SYMATTR SpiceLine pwr=10
SYMBOL res 1712 528 R0
SYMATTR InstName R15
SYMATTR Value 22
SYMATTR SpiceLine pwr=10
SYMBOL res 1808 528 R0
SYMATTR InstName R16
SYMATTR Value 22
SYMATTR SpiceLine pwr=10
TEXT -504 520 Left 2 !.tran 0 100ms 0 0.01
